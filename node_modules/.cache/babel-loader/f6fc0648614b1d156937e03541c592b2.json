{"ast":null,"code":"import axios from \"axios\";\nconst apiUrl = \"https://jadwalku-app.herokuapp.com/users\";\nexport const loginUser = (values, history) => {\n  return dispatch => {\n    return axios.post(`${apiUrl}/login`, values).then(response => {\n      // console.log(response, \"ini response\");\n      if (response.status === 200 && response.data.data[0].role === 'employee') {\n        dispatch(dispatch(loginSuccess(response.data)));\n        alert(\"login is succsessfuly\");\n        history.push(\"/main-page\");\n        localStorage.setItem(\"isLogin\", true);\n        localStorage.setItem(\"userid\", response.data.data[0].id);\n      } else {\n        dispatch(dispatch(loginSuccess(response.data)));\n        alert(\"login is succsessfuly\");\n        history.push(\"/main-page/manager\");\n        localStorage.setItem(\"isLogin\", true);\n        localStorage.setItem(\"userid\", response.data.data[0].id);\n      }\n    }).catch(error => {\n      alert(error.message);\n      throw error;\n    });\n  };\n};\nexport const loginSuccess = data => {\n  return {\n    type: \"LOGIN\",\n    payload: {\n      data\n    }\n  };\n};","map":{"version":3,"sources":["/home/bagus/Documents/impactbyte/tes-kesiapan-kerja/Front-End/src/redux/actions/loginActions.js"],"names":["axios","apiUrl","loginUser","values","history","dispatch","post","then","response","status","data","role","loginSuccess","alert","push","localStorage","setItem","id","catch","error","message","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG,0CAAf;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1C,SAAQC,QAAD,IAAc;AACjB,WAAOL,KAAK,CACPM,IADE,CACI,GAAEL,MAAO,QADb,EACsBE,MADtB,EAEFI,IAFE,CAEIC,QAAD,IAAc;AAChB;AAEA,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBC,IAAtB,KAA+B,UAA9D,EAA0E;AACtEN,QAAAA,QAAQ,CAACA,QAAQ,CAACO,YAAY,CAACJ,QAAQ,CAACE,IAAV,CAAb,CAAT,CAAR;AACAG,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACAT,QAAAA,OAAO,CAACU,IAAR,CAAa,YAAb;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgC,IAAhC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BR,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBO,EAArD;AACH,OAND,MAOK;AACDZ,QAAAA,QAAQ,CAACA,QAAQ,CAACO,YAAY,CAACJ,QAAQ,CAACE,IAAV,CAAb,CAAT,CAAR;AACAG,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACAT,QAAAA,OAAO,CAACU,IAAR,CAAa,oBAAb;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgC,IAAhC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BR,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBO,EAArD;AACH;AACJ,KAnBE,EAoBFC,KApBE,CAoBKC,KAAD,IAAW;AACdN,MAAAA,KAAK,CAACM,KAAK,CAACC,OAAP,CAAL;AACA,YAAMD,KAAN;AACH,KAvBE,CAAP;AAwBH,GAzBD;AA0BH,CA3BM;AA6BP,OAAO,MAAMP,YAAY,GAAIF,IAAD,IAAU;AAClC,SAAO;AACHW,IAAAA,IAAI,EAAE,OADH;AAEHC,IAAAA,OAAO,EAAE;AACLZ,MAAAA;AADK;AAFN,GAAP;AAMH,CAPM","sourcesContent":["import axios from \"axios\";\n\nconst apiUrl = \"https://jadwalku-app.herokuapp.com/users\";\n\nexport const loginUser = (values, history) => {\n    return (dispatch) => {\n        return axios\n            .post(`${apiUrl}/login`, values)\n            .then((response) => {\n                // console.log(response, \"ini response\");\n                \n                if (response.status === 200 && response.data.data[0].role === 'employee') {\n                    dispatch(dispatch(loginSuccess(response.data)));\n                    alert(\"login is succsessfuly\");\n                    history.push(\"/main-page\");\n                    localStorage.setItem(\"isLogin\", true);\n                    localStorage.setItem(\"userid\", response.data.data[0].id);\n                }\n                else {\n                    dispatch(dispatch(loginSuccess(response.data)));\n                    alert(\"login is succsessfuly\");\n                    history.push(\"/main-page/manager\");\n                    localStorage.setItem(\"isLogin\", true);\n                    localStorage.setItem(\"userid\", response.data.data[0].id);\n                }\n            })\n            .catch((error) => {\n                alert(error.message);\n                throw error;\n            });\n    };\n};\n\nexport const loginSuccess = (data) => {\n    return {\n        type: \"LOGIN\",\n        payload: {\n            data,\n        },\n    };\n};\n"]},"metadata":{},"sourceType":"module"}