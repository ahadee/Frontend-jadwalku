{"ast":null,"code":"import axios from \"axios\";\nimport { UPDATE_USER, GET_USER } from \"./types\";\nconst apiUrl = \"https://jadwalku-app.herokuapp.com/users\"; // const url = `${apiUrl}/users`\n// Post new user data to API\n\nexport const addUser = (values, history) => {\n  return dispatch => {\n    return axios.post(`${apiUrl}`, values).then(response => {\n      dispatch(addUserSuccess(response.data));\n      history.push(`/`);\n    }).catch(error => {\n      throw error;\n    });\n  };\n}; // Update userList state in redux store with new user data\n// This function will automatically executed if addUser function is called\n\nexport const addUserSuccess = data => {\n  return {\n    type: \"POST_USER\",\n    payload: {\n      data\n    }\n  };\n};\nexport const getUser = id => {\n  return dispatch => {\n    // const url = `https://5e9407d7c7393c0016de4cfc.mockapi.io/users/${id}`;\n    const url = `${apiUrl}/${id}`;\n    axios.get(url).then(response => {\n      dispatch({\n        type: GET_USER,\n        payload: response.data\n      });\n    }).catch(error => {\n      throw error;\n    });\n  };\n}; // Assign user data from API to userList state in redux store\n// This function will automatically executed if getUser function is called\n// ini buat apa ya?\n\nexport const getUserSuccess = users => {\n  return {\n    type: \"GET_USER\",\n    users\n  };\n};\nexport const updateUser = userProfile => async dispatch => {\n  // console.log(userProfile,\"log user profile\");\n  const {\n    id\n  } = userProfile; // const url = `https://5e9407d7c7393c0016de4cfc.mockapi.io/users/${id}`;\n\n  const url = `https://jadwalku-app.herokuapp.com/users/${id}`;\n  console.log(url);\n\n  try {\n    const data = await axios.put(url, userProfile);\n    console.log(data, \"log data\");\n    dispatch({\n      type: UPDATE_USER,\n      payload: data.data.data\n    });\n    dispatch({\n      type: GET_USER,\n      payload: data.data.data\n    });\n    getUser(id);\n  } catch (err) {\n    console.error(err.message);\n  }\n};","map":{"version":3,"sources":["/home/bagus/Documents/impactbyte/tes-kesiapan-kerja/Front-End/src/redux/actions/userActions.js"],"names":["axios","UPDATE_USER","GET_USER","apiUrl","addUser","values","history","dispatch","post","then","response","addUserSuccess","data","push","catch","error","type","payload","getUser","id","url","get","getUserSuccess","users","updateUser","userProfile","console","log","put","err","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,SAAtC;AACA,MAAMC,MAAM,GAAG,0CAAf,C,CACA;AAEA;;AACA,OAAO,MAAMC,OAAO,GAAG,CAACC,MAAD,EAASC,OAAT,KAAqB;AACxC,SAAQC,QAAD,IAAc;AACjB,WAAOP,KAAK,CACPQ,IADE,CACI,GAAEL,MAAO,EADb,EACgBE,MADhB,EAEFI,IAFE,CAEIC,QAAD,IAAc;AAChBH,MAAAA,QAAQ,CAACI,cAAc,CAACD,QAAQ,CAACE,IAAV,CAAf,CAAR;AACAN,MAAAA,OAAO,CAACO,IAAR,CAAc,GAAd;AACH,KALE,EAMFC,KANE,CAMKC,KAAD,IAAW;AACd,YAAMA,KAAN;AACH,KARE,CAAP;AASH,GAVD;AAWH,CAZM,C,CAcP;AACA;;AACA,OAAO,MAAMJ,cAAc,GAAIC,IAAD,IAAU;AACpC,SAAO;AACHI,IAAAA,IAAI,EAAE,WADH;AAEHC,IAAAA,OAAO,EAAE;AACLL,MAAAA;AADK;AAFN,GAAP;AAMH,CAPM;AASP,OAAO,MAAMM,OAAO,GAAIC,EAAD,IAAQ;AAC3B,SAAQZ,QAAD,IAAc;AACjB;AACA,UAAMa,GAAG,GAAI,GAAEjB,MAAO,IAAGgB,EAAG,EAA5B;AAEAnB,IAAAA,KAAK,CACAqB,GADL,CACSD,GADT,EAEKX,IAFL,CAEWC,QAAD,IAAc;AAChBH,MAAAA,QAAQ,CAAC;AACLS,QAAAA,IAAI,EAAEd,QADD;AAELe,QAAAA,OAAO,EAAEP,QAAQ,CAACE;AAFb,OAAD,CAAR;AAIH,KAPL,EAQKE,KARL,CAQYC,KAAD,IAAW;AACd,YAAMA,KAAN;AACH,KAVL;AAWH,GAfD;AAgBH,CAjBM,C,CAmBP;AACA;AAEA;;AACA,OAAO,MAAMO,cAAc,GAAIC,KAAD,IAAW;AACrC,SAAO;AACHP,IAAAA,IAAI,EAAE,UADH;AAEHO,IAAAA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,UAAU,GAAIC,WAAD,IAAiB,MAAOlB,QAAP,IAAoB;AAC3D;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAASM,WAAf,CAH2D,CAK3D;;AACA,QAAML,GAAG,GAAI,4CAA2CD,EAAG,EAA3D;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;;AAGA,MAAI;AACA,UAAMR,IAAI,GAAG,MAAMZ,KAAK,CAAC4B,GAAN,CAAUR,GAAV,EAAeK,WAAf,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ,EAAkB,UAAlB;AAGAL,IAAAA,QAAQ,CAAC;AACLS,MAAAA,IAAI,EAAEf,WADD;AAELgB,MAAAA,OAAO,EAAEL,IAAI,CAACA,IAAL,CAAUA;AAFd,KAAD,CAAR;AAIAL,IAAAA,QAAQ,CAAC;AACLS,MAAAA,IAAI,EAAEd,QADD;AAELe,MAAAA,OAAO,EAAEL,IAAI,CAACA,IAAL,CAAUA;AAFd,KAAD,CAAR;AAIAM,IAAAA,OAAO,CAACC,EAAD,CAAP;AACH,GAdD,CAcE,OAAOU,GAAP,EAAY;AACVH,IAAAA,OAAO,CAACX,KAAR,CAAcc,GAAG,CAACC,OAAlB;AACH;AACJ,CA3BM","sourcesContent":["import axios from \"axios\";\nimport { UPDATE_USER, GET_USER } from \"./types\"\nconst apiUrl = \"https://jadwalku-app.herokuapp.com/users\"\n// const url = `${apiUrl}/users`\n\n// Post new user data to API\nexport const addUser = (values, history) => {\n    return (dispatch) => {\n        return axios\n            .post(`${apiUrl}`, values)\n            .then((response) => {\n                dispatch(addUserSuccess(response.data));\n                history.push(`/`);\n            })\n            .catch((error) => {\n                throw error;\n            });\n    };\n};\n\n// Update userList state in redux store with new user data\n// This function will automatically executed if addUser function is called\nexport const addUserSuccess = (data) => {\n    return {\n        type: \"POST_USER\",\n        payload: {\n            data,\n        },\n    };\n};\n\nexport const getUser = (id) => {\n    return (dispatch) => {\n        // const url = `https://5e9407d7c7393c0016de4cfc.mockapi.io/users/${id}`;\n        const url = `${apiUrl}/${id}`;\n\n        axios\n            .get(url)\n            .then((response) => {\n                dispatch({\n                    type: GET_USER,\n                    payload: response.data,\n                });\n            })\n            .catch((error) => {\n                throw error;\n            });\n    };\n};\n\n// Assign user data from API to userList state in redux store\n// This function will automatically executed if getUser function is called\n\n// ini buat apa ya?\nexport const getUserSuccess = (users) => {\n    return {\n        type: \"GET_USER\",\n        users,\n    };\n};\n\nexport const updateUser = (userProfile) => async (dispatch) => {\n    // console.log(userProfile,\"log user profile\");\n\n    const { id } = userProfile;\n\n    // const url = `https://5e9407d7c7393c0016de4cfc.mockapi.io/users/${id}`;\n    const url = `https://jadwalku-app.herokuapp.com/users/${id}`;\n    console.log(url);\n    \n\n    try {\n        const data = await axios.put(url, userProfile);\n        console.log(data, \"log data\");\n        \n\n        dispatch({\n            type: UPDATE_USER,\n            payload: data.data.data,\n        });\n        dispatch({\n            type: GET_USER,\n            payload: data.data.data,\n        });\n        getUser(id);\n    } catch (err) {\n        console.error(err.message);\n    }\n};"]},"metadata":{},"sourceType":"module"}